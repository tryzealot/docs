"use strict";(self.webpackChunkzealot_new_docs=self.webpackChunkzealot_new_docs||[]).push([[8791],{3471:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>d});var s=t(5893),o=t(1151);const r={sidebar_label:"On-premise (Docker)"},i="Deploy Zealot with Docker guide",l={id:"self-hosted/deployment/docker",title:"Deploy Zealot with Docker guide",description:"Strongly recommended to deploy Zealot using Docker,",source:"@site/versioned_docs/version-5.2.0/self-hosted/deployment/docker.md",sourceDirName:"self-hosted/deployment",slug:"/self-hosted/deployment/docker",permalink:"/docs/self-hosted/deployment/docker",draft:!1,unlisted:!1,editUrl:"https://github.com/tryzealot/docs/tree/main/versioned_docs/version-5.2.0/self-hosted/deployment/docker.md",tags:[],version:"5.2.0",frontMatter:{sidebar_label:"On-premise (Docker)"},sidebar:"selfHosted",previous:{title:"Requirements",permalink:"/docs/self-hosted/deployment/requirements"},next:{title:"Step by step",permalink:"/docs/self-hosted/deployment/docker/step-by-step"}},c={},d=[{value:"Why support docker image only?",id:"why-support-docker-image-only",level:2},{value:"Software requirements",id:"software-requirements",level:2},{value:"Install on Docker",id:"install-on-docker",level:2},{value:"SSL",id:"ssl",level:2},{value:"Let&#39;s Encrypt",id:"lets-encrypt",level:3},{value:"Reverse proxy controls SSL",id:"reverse-proxy-controls-ssl",level:3},{value:"Self-signed untrust SSL",id:"self-signed-untrust-ssl",level:3}];function a(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"deploy-zealot-with-docker-guide",children:"Deploy Zealot with Docker guide"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["\ud83d\udd14"," Strongly recommended to deploy Zealot using ",(0,s.jsx)(n.a,{href:"https://www.docker.io/",children:"Docker"}),",\nunless you are familiar with the technology stack for this service.\nThe app protection policy settings for iOS/iPadOS devices, it needs a public network over SSL,\nfree to use ",(0,s.jsx)(n.a,{href:"https://letsencrypt.org/",children:"Let's Encrypt"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["If you use a self-signed certificate you must ",(0,s.jsx)(n.a,{href:"https://support.apple.com/en-us/HT204477",children:"install the self-signed certificate"}),"\non each iOS device before installing any app."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"why-support-docker-image-only",children:"Why support docker image only?"}),"\n",(0,s.jsx)(n.p,{children:"Deploying a Rails-based application is incredibly complex, and even though you must install many dependenices,\nand you still need to worry how to launch and make it as a daemon to run in the background."}),"\n",(0,s.jsx)(n.h2,{id:"software-requirements",children:"Software requirements"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Git 2.0+"}),"\n",(0,s.jsx)(n.li,{children:"Docker 20.10.0+"}),"\n",(0,s.jsx)(n.li,{children:"Docker Compose 1.28.0+"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"install-on-docker",children:"Install on Docker"}),"\n",(0,s.jsxs)(n.p,{children:["In the principle of one-click installation, but reality is often harsh,\nZealot configuration is dependent on ",(0,s.jsx)(n.code,{children:"ENV"})," environment variables,\nyou need to configure it and then execute the one-click deployment generation script."]}),"\n",(0,s.jsxs)(n.p,{children:["First you need to clone the ",(0,s.jsx)(n.a,{href:"https://github.com/tryzealot/zealot-docker.git",children:"deployment script"}),",\nAfter entering the ",(0,s.jsx)(n.code,{children:"zealot-docker"})," directory, you need to open the ",(0,s.jsx)(n.code,{children:"example.env"})," file to\nconfigure the necessary parameters and then you can directly execute ",(0,s.jsx)(n.code,{children:"./deploy.sh"})," script."]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["By default, the administrator account: ",(0,s.jsx)(n.code,{children:"admin@zealot.com"})," and password ",(0,s.jsx)(n.code,{children:"ze@l0t"})," (you can change it)\nand some demo applications will be generated."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ git clone https://github.com/tryzealot/zealot-docker.git\n$ cd zealot-docker\n$ ./deploy\n"})}),"\n",(0,s.jsx)(n.p,{children:"The one-click deployment generation script has three built-in templates by default:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Using Let's Encrypt SSL"}),"\n",(0,s.jsx)(n.li,{children:"Using Self-signed SSL"}),"\n",(0,s.jsx)(n.li,{children:"Using non-SSL (needs gateway or reverse proxy to manage SSL\uff09"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["For those interested in one-click installation deployment scripts,\nyou can check out the ",(0,s.jsx)(n.a,{href:"/docs/self-hosted/deployment/docker/step-by-step",children:"Deployment Documentation with Docker"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"ssl",children:"SSL"}),"\n",(0,s.jsx)(n.h3,{id:"lets-encrypt",children:"Let's Encrypt"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Best Choice"})}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Step 1"}),": Execute the deployment script:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ ./deploy\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Step 2"}),": Check and configure the ",(0,s.jsx)(n.code,{children:".env"})," file, mainly whether ",(0,s.jsx)(n.code,{children:"ZEALOT_DOMAIN"})," and ",(0,s.jsx)(n.code,{children:"ZEALOT_CERT_EMAIL"})," are filled in correctly.\nOther parts can be adjusted according to the actual situation of the corresponding configuration"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Step 3"}),": Run the Zealot service:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ docker-compose up -d\n"})}),"\n",(0,s.jsx)(n.h3,{id:"reverse-proxy-controls-ssl",children:"Reverse proxy controls SSL"}),"\n",(0,s.jsxs)(n.p,{children:["Check ",(0,s.jsx)(n.a,{href:"/docs/self-hosted/reverse-proxies",children:"Reverse Proxies Guide"})," page."]}),"\n",(0,s.jsx)(n.h3,{id:"self-signed-untrust-ssl",children:"Self-signed untrust SSL"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Not recommended"})}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Please do not use this for non-essential cases, for iOS using self-signed certificates\n",(0,s.jsx)(n.strong,{children:"may require the device to also have an SSL certificate installed before accessing and installing the application"}),",\nand Chrome may also deny access due to the certificate."]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["If the domain name is unregistered, you need to tie the host to access it,\nusually by modifying the system's ",(0,s.jsx)(n.code,{children:"/etc/hosts"})," file."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",metastring:'title="/etc/hosts"',children:"$ sudo vim /etc/hosts\n\n# highlight-start\n127.0.0.1 zealot.test\n# highlight-end\n"})})]})}function h(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>l,a:()=>i});var s=t(7294);const o={},r=s.createContext(o);function i(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);