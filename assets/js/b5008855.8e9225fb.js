"use strict";(self.webpackChunkzealot_new_docs=self.webpackChunkzealot_new_docs||[]).push([[5538],{5965:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>s,metadata:()=>r,toc:()=>p});var o=t(5893),l=t(1151);const s={sidebar_label:"Fly"},i="Deploy Zealot to Fly guide",r={id:"self-hosted/deployment/fly",title:"Deploy Zealot to Fly guide",description:"Zealot support use App Configuration (fly.toml) to deploy on fly.io.",source:"@site/versioned_docs/version-5.1.0/self-hosted/deployment/fly.md",sourceDirName:"self-hosted/deployment",slug:"/self-hosted/deployment/fly",permalink:"/docs/5.1.0/self-hosted/deployment/fly",draft:!1,unlisted:!1,editUrl:"https://github.com/tryzealot/docs/tree/main/versioned_docs/version-5.1.0/self-hosted/deployment/fly.md",tags:[],version:"5.1.0",frontMatter:{sidebar_label:"Fly"},sidebar:"selfHosted",previous:{title:"Cloud Provider Guides",permalink:"/docs/5.1.0/category/cloud-provider-guides"},next:{title:"Railway",permalink:"/docs/5.1.0/self-hosted/deployment/railway"}},c={},p=[{value:"Deploying on Fly",id:"deploying-on-fly",level:2},{value:"App Configuration",id:"app-configuration",level:3}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"deploy-zealot-to-fly-guide",children:"Deploy Zealot to Fly guide"}),"\n",(0,o.jsxs)(n.p,{children:["Zealot support use App Configuration (fly.toml) to deploy on ",(0,o.jsx)(n.a,{href:"https://fly.io",children:"fly.io"}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"deploying-on-fly",children:"Deploying on Fly"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Install ",(0,o.jsx)(n.a,{href:"https://fly.io/docs/flyctl/",children:"flyctl"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["Copy full content of ",(0,o.jsx)(n.a,{href:"#app-configuration",children:"app configuration"})," save to ",(0,o.jsx)(n.code,{children:"fly.toml"})," then change the ",(0,o.jsx)(n.code,{children:"app"})," value ."]}),"\n",(0,o.jsxs)(n.li,{children:["Run ",(0,o.jsx)(n.code,{children:"flyctl deploy"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["Run ",(0,o.jsx)(n.code,{children:"fly scale vm shared-cpu-1x --memory 512"}),"."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"app-configuration",children:"App Configuration"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-toml",children:'app = "[app-name:changeme]"\nkill_signal = "SIGINT"\nkill_timeout = 120\nprocesses = []\n\n[build]\n  image = "ghcr.io/tryzealot/zealot:nightly"\n\n[experimental]\n  allowed_public_ports = []\n  auto_rollback = true\n\n[[services]]\n  http_checks = []\n  internal_port = 80\n  processes = ["app"]\n  protocol = "tcp"\n  script_checks = []\n  [services.concurrency]\n    hard_limit = 25\n    soft_limit = 20\n    type = "connections"\n\n  [[services.ports]]\n    force_https = true\n    handlers = ["http"]\n    port = 80\n\n  [[services.ports]]\n    handlers = ["tls", "http"]\n    port = 443\n\n  [[services.tcp_checks]]\n    grace_period = "1s"\n    interval = "15s"\n    restart_limit = 0\n    timeout = "2s"\n\n[[statics]]\n  guest_path = "/app/public"\n  url_prefix = "/"\n'})})]})}function d(e={}){const{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>r,a:()=>i});var o=t(7294);const l={},s=o.createContext(l);function i(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);