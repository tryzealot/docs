"use strict";(self.webpackChunkzealot_new_docs=self.webpackChunkzealot_new_docs||[]).push([[4234],{3905:(e,t,a)=>{a.d(t,{Zo:()=>s,kt:()=>h});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),c=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},s=function(e){var t=c(e.components);return n.createElement(p.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,p=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),u=c(a),m=r,h=u["".concat(p,".").concat(m)]||u[m]||d[m]||l;return a?n.createElement(h,o(o({ref:t},s),{},{components:a})):n.createElement(h,o({ref:t},s))}));function h(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,o=new Array(l);o[0]=m;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i[u]="string"==typeof e?e:r,o[1]=i;for(var c=2;c<l;c++)o[c]=a[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},5049:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>d,frontMatter:()=>l,metadata:()=>i,toc:()=>c});var n=a(7462),r=(a(7294),a(3905));const l={},o="Third-party Authentication",i={unversionedId:"self-hosted/configuration/third-party-authentication",id:"version-4.x/self-hosted/configuration/third-party-authentication",title:"Third-party Authentication",description:"Avaiable services:",source:"@site/versioned_docs/version-4.x/self-hosted/configuration/third-party-authentication.md",sourceDirName:"self-hosted/configuration",slug:"/self-hosted/configuration/third-party-authentication",permalink:"/docs/self-hosted/configuration/third-party-authentication",draft:!1,editUrl:"https://github.com/tryzealot/docs/tree/main/versioned_docs/version-4.x/self-hosted/configuration/third-party-authentication.md",tags:[],version:"4.x",frontMatter:{},sidebar:"selfHosted",previous:{title:"Environment Variables",permalink:"/docs/self-hosted/configuration/environment-variables"},next:{title:"Schedule Jobs",permalink:"/docs/self-hosted/configuration/schedule-jobs"}},p={},c=[{value:"Gitlab",id:"gitlab",level:2},{value:"Google",id:"google",level:2},{value:"Feishu (Lark)",id:"feishu-lark",level:2},{value:"LDAP",id:"ldap",level:2}],s={toc:c},u="wrapper";function d(e){let{components:t,...a}=e;return(0,r.kt)(u,(0,n.Z)({},s,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"third-party-authentication"},"Third-party Authentication"),(0,r.kt)("p",null,"Avaiable services:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Service Name"),(0,r.kt)("th",{parentName:"tr",align:null},"provider value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Feishu"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"feishu"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Gitlab"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"gitlab"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Google"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"google_oauth2"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"LDAP"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"ldap"))))),(0,r.kt)("p",null,"If the above services need to set the callback address please set it uniformly as follows"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"http://zealot.com/users/auth/:provider/callback\n")),(0,r.kt)("p",null,"where ",(0,r.kt)("inlineCode",{parentName:"p"},":provider")," is the identifier of the above supported third-party service, for example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# if Google is enabled, then replace `:provider` with `google_oauth2`.\nhttp://zealot.com/users/auth/google_oauth2/callback\n")),(0,r.kt)("h2",{id:"gitlab"},"Gitlab"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Register a Gitlab ",(0,r.kt)("a",{parentName:"li",href:"http://gitlab.com"},"On line")," account or use self-host service"),(0,r.kt)("li",{parentName:"ol"},"Create an application in Preferences -> Applications page."),(0,r.kt)("li",{parentName:"ol"},"Configure ",(0,r.kt)("inlineCode",{parentName:"li"},"Redirect URI")," such like ",(0,r.kt)("inlineCode",{parentName:"li"},"http://zealot.com/users/auth/gitlab/callback")," (replace the domain in your case)"),(0,r.kt)("li",{parentName:"ol"},"Check scope: ",(0,r.kt)("inlineCode",{parentName:"li"},"read_user"),"\uff0cBy default zealot only uses this license, if your enable scope is ",(0,r.kt)("inlineCode",{parentName:"li"},"api")," that's fine too")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"GITLAB_ENABLED=true\nGITLAB_SITE=https://gitlab.com/api/v4\nGITLAB_SCOPE=read_user\nGITLAB_APP_ID=\nGITLAB_SECRET=\n")),(0,r.kt)("h2",{id:"google"},"Google"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Register a Google account"),(0,r.kt)("li",{parentName:"ol"},"Enable ",(0,r.kt)("a",{parentName:"li",href:"https://console.cloud.google.com/apis/dashboard"},"Google Cloud Platform")," service"),(0,r.kt)("li",{parentName:"ol"},"Choose or create a Project then go to Credentials page"),(0,r.kt)("li",{parentName:"ol"},"Create OAuth Client ID with Web Application, and configure Authorized redirect URI such like ",(0,r.kt)("inlineCode",{parentName:"li"},"http://zealot.com/users/auth/google_oauth2/callback")," (replace the domain in your case)")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"GOOGLE_OAUTH_ENABLED=true\nGOOGLE_CLIENT_ID=\nGOOGLE_SECRET=\n")),(0,r.kt)("h2",{id:"feishu-lark"},"Feishu (Lark)"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Register a feishu (lark) account and download the Phone app."),(0,r.kt)("li",{parentName:"ol"},"Enable ",(0,r.kt)("a",{parentName:"li",href:"https://open.feishu.cn/app/"},"Open platform")," and create application to get app_id, app_secret"),(0,r.kt)("li",{parentName:"ol"},"Configure callback url such like ",(0,r.kt)("inlineCode",{parentName:"li"},"http://zealot.com/users/auth/feishu/callback")," (replace the domain in your case)"),(0,r.kt)("li",{parentName:"ol"},"Check user filed information scope: ",(0,r.kt)("inlineCode",{parentName:"li"},"email address")," (Optional)"),(0,r.kt)("li",{parentName:"ol"},"Create a version and publish")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"FEISHU_ENABLED=true\nFEISHU_APP_ID=\nFEISHU_APP_SECRET=\n")),(0,r.kt)("h2",{id:"ldap"},"LDAP"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'LDAP_ENABLED=true\nLDAP_HOST=10.0.0.1\nLDAP_PORT=389\nLDAP_METHOD=plain\nLDAP_BIND_DN="cn=Manager,dc=example,dc=com"\nLDAP_PASSWORD=password\nLDAP_BASE="ou=People,dc=example,dc=com"\nLDAP_UID=uid\n')))}d.isMDXComponent=!0}}]);