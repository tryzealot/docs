"use strict";(self.webpackChunkzealot_new_docs=self.webpackChunkzealot_new_docs||[]).push([[859],{2071:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>t,metadata:()=>c,toc:()=>o});var s=l(5893),i=l(1151);const t={},r="\u7b2c\u4e09\u65b9\u767b\u5f55",c={id:"self-hosted/configuration/third-party-authentication",title:"\u7b2c\u4e09\u65b9\u767b\u5f55",description:"\u76ee\u524d\u5df2\u63a5\u5165\u7684\u7b2c\u4e09\u65b9\u767b\u5f55\uff1a",source:"@site/i18n/zh-Hans/docusaurus-plugin-content-docs/version-4.x/self-hosted/configuration/third-party-authentication.md",sourceDirName:"self-hosted/configuration",slug:"/self-hosted/configuration/third-party-authentication",permalink:"/zh-Hans/docs/4.x/self-hosted/configuration/third-party-authentication",draft:!1,unlisted:!1,editUrl:"https://github.com/tryzealot/docs/tree/main/versioned_docs/version-4.x/self-hosted/configuration/third-party-authentication.md",tags:[],version:"4.x",frontMatter:{},sidebar:"selfHosted",previous:{title:"\u73af\u5883\u53d8\u91cf",permalink:"/zh-Hans/docs/4.x/self-hosted/configuration/environment-variables"},next:{title:"\u5b9a\u65f6\u4efb\u52a1",permalink:"/zh-Hans/docs/4.x/self-hosted/configuration/schedule-jobs"}},d={},o=[{value:"\u98de\u4e66",id:"\u98de\u4e66",level:2},{value:"Gitlab",id:"gitlab",level:2},{value:"Google",id:"google",level:2},{value:"LDAP",id:"ldap",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"\u7b2c\u4e09\u65b9\u767b\u5f55",children:"\u7b2c\u4e09\u65b9\u767b\u5f55"}),"\n",(0,s.jsx)(n.p,{children:"\u76ee\u524d\u5df2\u63a5\u5165\u7684\u7b2c\u4e09\u65b9\u767b\u5f55\uff1a"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u670d\u52a1"}),(0,s.jsx)(n.th,{children:"\u6807\u8bc6\u7b26"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"\u98de\u4e66"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"feishu"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Gitlab"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"gitlab"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Google"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"google_oauth2"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"LDAP"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"ldap"})})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"\u5982\u679c\u4ee5\u4e0a\u670d\u52a1\u9700\u8981\u8bbe\u7f6e\u56de\u8c03\u5730\u5740\u7684\u8bdd\u8bf7\u7edf\u4e00\u8bbe\u7f6e\u4e3a\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"http://zealot.com/users/auth/:provider/callback\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u5176\u4e2d ",(0,s.jsx)(n.code,{children:":provider"})," \u662f\u4e0a\u9762\u652f\u6301\u7b2c\u4e09\u65b9\u670d\u52a1\u7684\u6807\u8bc6\u7b26\uff0c\u4f8b\u5982\u5f00\u542f\u4e86\u98de\u4e66\u90a3\u5c31\u628a ",(0,s.jsx)(n.code,{children:":provider"})," \u66ff\u6362\u6210 ",(0,s.jsx)(n.code,{children:"feishu"}),"\u3002"]}),"\n",(0,s.jsx)(n.h2,{id:"\u98de\u4e66",children:"\u98de\u4e66"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\u53bb\u6ce8\u518c\u4e00\u4e2a\u98de\u4e66\u8d26\u53f7\u5e76\u4e0b\u8f7d\u624b\u673a App"}),"\n",(0,s.jsxs)(n.li,{children:["\u6ce8\u518c",(0,s.jsx)(n.a,{href:"https://open.feishu.cn/app/",children:"\u98de\u4e66\u5f00\u53d1\u5e73\u53f0"}),"\u5e76\u521b\u5efa\u4f01\u4e1a\u81ea\u5efa\u5e94\u7528\u83b7\u5f97 app_id, app_secret"]}),"\n",(0,s.jsxs)(n.li,{children:["\u586b\u5199 callback url \u4e3a ",(0,s.jsx)(n.code,{children:"http://zealot.com/users/auth/feishu/callback"})," (\u57df\u540d\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u4fee\u6539\uff09"]}),"\n",(0,s.jsxs)(n.li,{children:["\u6dfb\u52a0\u7528\u6237\u5b57\u6bb5\u4fe1\u606f\u6388\u6743\uff1a",(0,s.jsx)(n.code,{children:"email \u5730\u5740"})," \uff08\u53ef\u9009\uff09"]}),"\n",(0,s.jsx)(n.li,{children:"\u81f3\u5c11\u52fe\u9009\u4e00\u4e2a\u5e94\u7528\u65b9\u5f0f\u5e76\u521b\u5efa\u65b0\u7248\u672c\u540e\u53d1\u5e03"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"FEISHU_ENABLED=true\nFEISHU_APP_ID=\nFEISHU_APP_SECRET=\n"})}),"\n",(0,s.jsx)(n.h2,{id:"gitlab",children:"Gitlab"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\u6ce8\u518c Gitlab ",(0,s.jsx)(n.a,{href:"http://gitlab.com",children:"\u5b98\u65b9"}),"\u8d26\u6237\u6216\u81ea\u90e8\u7f72 Gitlab \u670d\u52a1"]}),"\n",(0,s.jsx)(n.li,{children:"\u5728\u7528\u6237\u8bbe\u7f6e\uff08Preferences\uff09 -> \u5e94\u7528\uff08Applications\uff09 \u521b\u5efa\u4e00\u4e2a\u65b0\u5e94\u7528"}),"\n",(0,s.jsxs)(n.li,{children:["\u56de\u8c03\u5730\u5740\uff08Redirect URI\uff09 \u914d\u7f6e\u4e3a  ",(0,s.jsx)(n.code,{children:"http://zealot.com/users/auth/gitlab/callback"})," (\u57df\u540d\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u4fee\u6539\uff09"]}),"\n",(0,s.jsxs)(n.li,{children:["\u6dfb\u52a0\u7528\u6237\u5b57\u6bb5\u4fe1\u606f\u6388\u6743\uff08scope\uff09\uff1a",(0,s.jsx)(n.code,{children:"read_user"}),"\uff0c\u9ed8\u8ba4 zealot \u4ec5\u7528\u6b64\u6388\u6743\uff0c\u5982\u679c\u4f60\u7684\u6388\u6743\u8303\u56f4\u662f ",(0,s.jsx)(n.code,{children:"api"})," \u4e5f\u6ca1\u95ee\u9898"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"GITLAB_ENABLED=true\nGITLAB_SITE=https://gitlab.com/api/v4\nGITLAB_SCOPE=read_user\nGITLAB_APP_ID=\nGITLAB_SECRET=\n"})}),"\n",(0,s.jsx)(n.h2,{id:"google",children:"Google"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\u6ce8\u518c Google \u8d26\u53f7"}),"\n",(0,s.jsxs)(n.li,{children:["\u5f00\u901a ",(0,s.jsx)(n.a,{href:"https://console.cloud.google.com/apis/dashboard",children:"Google Cloud Platform"})," \u670d\u52a1"]}),"\n",(0,s.jsx)(n.li,{children:"\u9009\u62e9\u6216\u521b\u5efa Project \u5e76\u524d\u5f80 Credentials"}),"\n",(0,s.jsxs)(n.li,{children:["\u521b\u5efa OAuth Client ID \u9009\u62e9 Web Application \u540e\u6dfb\u52a0\u56de\u8c03\u5730\u5740\uff08Authorized redirect URI\uff09 \u914d\u7f6e\u4e3a ",(0,s.jsx)(n.code,{children:"http://zealot.com/users/auth/google_oauth2/callback"})," (\u57df\u540d\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u4fee\u6539\uff09"]}),"\n",(0,s.jsx)(n.li,{children:"\u521b\u5efa\u6210\u529f\u540e\u83b7\u5f97 Client ID \u548c Client Secret"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"GOOGLE_OAUTH_ENABLED=true\nGOOGLE_CLIENT_ID=\nGOOGLE_SECRET=\n"})}),"\n",(0,s.jsx)(n.h2,{id:"ldap",children:"LDAP"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\u81ea\u90e8\u7f72\u6216\u4f7f\u7528\u73b0\u6709\u7684 LDAP \u670d\u52a1"}),"\n",(0,s.jsx)(n.li,{children:"\u81ea\u914d\u7f6e\u6216\u67e5\u627e\u5982\u4e0b\u53c2\u6570\u7684\u503c"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'LDAP_ENABLED=true\nLDAP_HOST=10.0.0.1\nLDAP_PORT=389\nLDAP_METHOD=plain\nLDAP_BIND_DN="cn=Manager,dc=example,dc=com"\nLDAP_PASSWORD=password\nLDAP_BASE="ou=People,dc=example,dc=com"\nLDAP_UID=uid\n'})})]})}function h(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},1151:(e,n,l)=>{l.d(n,{Z:()=>c,a:()=>r});var s=l(7294);const i={},t=s.createContext(i);function r(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);